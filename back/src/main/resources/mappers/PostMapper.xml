<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.gardener.PostMapper">
    <select id="selectByLoginId" 
		 parameterType="string"
		 resultType="Post">
SELECT p.maintitle, p.writer, p.content, p.maintitleimg 
FROM post p JOIN member m ON (p.loginid = m.loginid)
WHERE m.loginId =#{loginId}
  </select>
  <insert id="updatePost" parameterType="Post">
INSERT INTO post(postNum, maintitle,writer,mainTitleImg,content) VALUES(post_seq.nextval, #{loginId}, #{mainTitle}, #{writer}, #{mainTitleImg}, #{content})
</insert>
<resultMap id="joinMap" type="Post" autoMapping="true">
	<id property="postnum" column="postnum"/>
	<result property="loginId" column="loginId"/>
	<result property="mainTitle" column="maintitle"/>
	<result property="writer" column="writer"/>
	<result property="content" column="content"/>
	<result property="mainTitleImg" column="maintitleimg"/>
	<result property="createPost" column="createpost"/>
	<association property="member" javaType="Member" autoMapping="true"/>
</resultMap>
</mapper>